/**
* å¤§å†™æ•°å­—çš„ä½¿ç”¨å§‹äºŽæ˜Žæœã€‚æœ±å…ƒç’‹å› ä¸ºå½“æ—¶çš„ä¸€ä»¶é‡å¤§è´ªæ±¡æ¡ˆâ€œéƒ­æ¡“æ¡ˆâ€è€Œå‘å¸ƒæ³•ä»¤ï¼Œå…¶ä¸­æ˜Žç¡®è¦æ±‚è®°è´¦çš„æ•°å­—å¿…é¡»ç”±â€œä¸€ã€äºŒã€ä¸‰ã€å››ã€äº”ã€å…­ã€ä¸ƒã€å…«ã€ä¹ã€åã€ç™¾ã€åƒâ€æ”¹ä¸ºâ€œå£¹ã€è´°ã€åã€è‚†ã€ä¼ã€é™†ã€æŸ’ã€æŒã€çŽ–ã€æ‹¾ã€ä½°ï¼ˆé™Œï¼‰ã€ä»Ÿï¼ˆé˜¡ï¼‰â€ç­‰å¤æ‚çš„æ±‰å­—ï¼Œç”¨ä»¥å¢žåŠ æ¶‚æ”¹å¸å†Œçš„éš¾åº¦ã€‚
*
* ## äººæ°‘å¸é‡‘é¢å¤§å†™è§„åˆ™ï¼š

1ã€ä¸å¾—ä½¿ç”¨é˜¿æ‹‰ä¼¯æ•°å­—0123456789ï¼Œä¹Ÿä¸å¾—ä½¿ç”¨ä¸€ã€äºŒã€ä¸‰ã€å››ã€äº”ã€å…­ã€ä¸ƒã€å…«ã€ä¹ã€åï¼Œåªèƒ½ä½¿ç”¨æ±‰å­—å¤§å†™ï¼šå£¹ã€è´°ã€åã€è‚†ã€ä¼ã€é™†ã€æŸ’ã€æŒã€çŽ–ã€æ‹¾ã€ä½°ã€ä»Ÿã€ä¸‡ç­‰ï¼Œè€Œä¸”åªèƒ½ä½¿ç”¨æ­£æ¥·æˆ–è¡Œä¹¦å¡«å†™ã€‚

2ã€é‡‘é¢åˆ°â€œå…ƒâ€æˆ–â€œè§’â€ä¸ºæ­¢çš„ï¼Œåœ¨å…ƒæˆ–è§’ä¹‹åŽè¦å¢žåŠ ä¸€ä¸ªâ€œæ­£â€æˆ–è€…â€œæ•´â€å­—ã€‚ä¾‹å¦‚ï¼š99 â‡¨ çŽ–æ‹¾çŽ–å…ƒæ•´ï¼›åˆå¦‚ï¼š99.1 â‡¨ çŽ–æ‹¾çŽ–å…ƒå£¹è§’æ•´

3ã€é‡‘é¢åŽé¢æœ‰åˆ†çš„ï¼Œå†å…¶åŽä¸ç”¨å†™â€œæ­£â€æˆ–è€…â€œæ•´â€å­—ï¼Œä¾‹å¦‚ï¼š99.12 â‡¨ çŽ–æ‹¾çŽ–å…ƒå£¹è§’è´°åˆ†

4ã€é˜¿æ‹‰ä¼¯æ•°å­—é‡‘é¢ä¸­å«æœ‰0çš„ï¼Œè¦ç”¨é›¶å†™å‡ºæ¥ï¼Œä¾‹å¦‚ï¼š1208.01 â‡¨ å£¹ä»Ÿè´°ä½°é›¶æŒå…ƒé›¶å£¹åˆ†

5ã€é˜¿æ‹‰ä¼¯æ•°å­—é‡‘é¢ä¸­å«æœ‰å¤šä¸ª0çš„ï¼Œåªéœ€å†™ä¸€ä¸ªé›¶ï¼Œä¾‹å¦‚ï¼š20001 â‡¨ è´°ä¸‡é›¶å£¹å…ƒæ•´

6ã€å¤§å†™é‡‘é¢çš„â€œå…ƒä½â€æ˜¯é›¶ä½†â€œè§’ä½â€ä¸æ˜¯é›¶ï¼Œå¯ä»¥åœ¨â€œå…ƒâ€çš„åŽé¢åŠ é›¶å­—ï¼Œæˆ–è€…ä¸åŠ ä¹Ÿå¯ä»¥ï¼Œä¾‹å¦‚ï¼š100.11 â‡¨ å£¹ä½°å…ƒé›¶å£¹è§’å£¹åˆ†ï¼ˆæˆ–è€…å†™æˆï¼šå£¹ä½°å…ƒå£¹è§’å£¹åˆ†ï¼‰

## å¤‡æ³¨

1ã€ä¸æ”¯æŒè´Ÿæ•°ï¼Œè´Ÿæ•°åœ¨äººæ°‘å¸å¤§å†™é‡‘é¢ä¸­ä¹Ÿç”¨ä¸åˆ°ã€‚

2ã€æœ€å¤šæ”¯æŒåˆ°åˆ†ï¼ˆæ•°å­—é‡‘é¢å°æ•°ç‚¹åŽä¸¤ä½ï¼‰ï¼Œå¦‚æžœæ‚¨è¾“å…¥çš„é˜¿æ‹‰ä¼¯æ•°å­—ç²¾ç¡®åˆ°åƒåˆ†ä½ä»¥ä¸Šï¼Œåˆ™ä¼šåƒåˆ†ä½èµ·ä¼šè¢«å››èˆäº”å…¥ã€‚
* @param money
* @returns å¤§å†™çš„ä¸­æ–‡é‡‘é¢ðŸ’°
*/
export function capitalizeRMB(money: string | number) {
  // æ±‰å­—çš„æ•°å­—
  const cnNums = ['é›¶', 'å£¹', 'è´°', 'å', 'è‚†', 'ä¼', 'é™†', 'æŸ’', 'æŒ', 'çŽ–',]
  // åŸºæœ¬å•ä½
  const cnIntRadice = ['', 'æ‹¾', 'ä½°', 'ä»Ÿ']
  // å¯¹åº”æ•´æ•°éƒ¨åˆ†æ‰©å±•å•ä½
  const cnIntUnits = ['', 'ä¸‡', 'äº¿', 'å…†']
  // å¯¹åº”å°æ•°éƒ¨åˆ†å•ä½
  const cnDecUnits = ['è§’', 'åˆ†']
  // æ•´æ•°é‡‘é¢æ—¶åŽé¢è·Ÿçš„å­—ç¬¦
  const cnInteger = 'æ•´'
  // æ•´åž‹å®Œä»¥åŽçš„å•ä½
  const cnIntLast = 'å…ƒ'
  // æœ€å¤§å¤„ç†çš„æ•°å­—
  const maxNum = 9999999999999999.99
  // é‡‘é¢æ•´æ•°éƒ¨åˆ†
  let integerNum
  // é‡‘é¢å°æ•°éƒ¨åˆ†
  let decimalNum
  // è¾“å‡ºçš„ä¸­æ–‡é‡‘é¢å­—ç¬¦ä¸²
  let chineseStr = ''

  // åˆ†ç¦»é‡‘é¢åŽç”¨çš„æ•°ç»„ï¼Œé¢„å®šä¹‰
  let parts
  if (money === '') return ''
  money = parseFloat(money as string)
  if (money >= maxNum) {
    // è¶…å‡ºæœ€å¤§å¤„ç†æ•°å­—
    return ''
  }
  if (money === 0) {
    chineseStr = cnNums[0] + cnIntLast + cnInteger
    return chineseStr
  }
  // è½¬æ¢ä¸ºå­—ç¬¦ä¸²
  money = money.toString()
  if (money.indexOf('.') === -1) {
    integerNum = money

    decimalNum = ''
  } else {
    parts = money.split('.')
    integerNum = parts[0]
    decimalNum = parts[1].substr(0, 4)
  }
  // èŽ·å–æ•´åž‹éƒ¨åˆ†è½¬æ¢
  if (parseInt(integerNum, 10) > 0) {
    let zeroCount = 0
    const IntLen = integerNum.length
    for (let i = 0; i < IntLen; i++) {
      const n = integerNum.substr(i, 1)
      const p = IntLen - i - 1
      const q = p / 4
      const m = p % 4
      if (n === '0') {
        zeroCount++
      } else {
        if (zeroCount > 0) {
          chineseStr += cnNums[0]
        }
        // å½’é›¶
        zeroCount = 0
        //alert(cnNums[parseInt(n)])
        chineseStr += cnNums[parseInt(n)] + cnIntRadice[m]
      }
      if (m === 0 && zeroCount < 4) {
        chineseStr += cnIntUnits[q]
      }
    }
    chineseStr += cnIntLast
  }
  // å°æ•°éƒ¨åˆ†
  if (decimalNum !== '') {
    const decLen = decimalNum.length
    for (let i = 0; i < decLen; i++) {
      const n = Number(decimalNum.substr(i, 1))
      // ï¿¥325.04 åº”å†™æˆ åä½°è´°æ‹¾ä¼å…ƒé›¶è‚†åˆ†
      chineseStr += (n === 0 ? cnNums[n] : cnNums[n] + cnDecUnits[i])
    }
  }
  if (chineseStr === '') {
    chineseStr += cnNums[0] + cnIntLast + cnInteger
  } else if (decimalNum === '') {
    chineseStr += cnInteger
  }
  return chineseStr
}
